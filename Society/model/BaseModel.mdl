{
  "Instance" : {

    "Agent" : [
      {
        "id" : "farmerAgent001",
        "type" : "Agent",
        "workerCaperbility" : [
          "farmerCaperbility"
        ],
        "hasProperties" : [
          "wielding001",
          "inventory001",
          "farmerProperty001"
        ]
      }
    ],

    "Structure" : [
      {
        "id" : "Farm001",
        "type" : "Farm",
        "hasProperties" : [
          "structureProperty001",
          "builtIn001"
        ]
      },
      {
        "id" : "FarmLand001",
        "type" : "FarmLand",
        "targetCaperbility" : [
          "farmerCaperbility"
        ],
        "hasProperties" : [
          "inventory002",
          "structureProperty002",
          "cultivateProperty001",
          "FarmLandState/Cultivating"
        ]
      }
    ],

    "Item" : [
      {
        "id" : "ironHoe001",
        "type" : "Hoe",
        "hasProperties" : [
          "equipmentProperty001"
        ]
      },
      {
        "id" : "wheat001",
        "type" : "Wheat",
        "hasProperties" : [
          "itemProperty001",
          "plantableProperty001"
        ]
      },
    ],

    "PropertySet" : [
      {
        "id" : "wielding001",
        "type" : "wieldingProperty",
        "properties" : {
          "rightHand" : "ironHoe001"
        }
      },
      {
        "id" : "itemProperty001",
        "type" : "ItemProperty",
        "properties" : {
          "size" : 5
        }
      },
      {
        "id" : "plantableProperty001",
        "type" : "PlantableProperty",
        "properties" : {

        }
      },
      {
        "id" : "farmerProperty001",
        "type" : "farmerProperty",
        "properties" : {
          "str" : 5,
          "dex" : 7
        }
      },
      {
        "id" : "equipmentProperty001",
        "type" : "equipmentProperty",
        "properties" : {
          "attack" : 15,
          "durability" : 200
        }
      },
      {
        "id" : "structureProperty001",
        "type" : "structureProperty",
        "properties" : {
          "durability" : 3000
        }
      },
      {
        "id" : "cultivateProperty001",
        "type" : "CultivateProperty",
        "properties" : {
          "growth" : 7,
          "fertility" : 10
        }
      },
      {
        "id" : "structureProperty002",
        "type" : "structureProperty",
        "properties" : {
          "durability" : 1000
        }
      }
    ],

    "Inventory" : [
      {
        "id" : "inventory001",
        "type" : "inventory",
        "size" : "100",
        "content" : [
          "wheat001",
        ]
      },
      {
        "id" : "inventory002",
        "type" : "inventory",
        "size" : 10,
        "content" : [
        ]
      },
      {
        "id" : "builtIn001",
        "type" : "builtIn",
        "content" : [
          "farmLand001"
        ]
      }
    ]
  },

  "BaseModel" : [
    {
      "id" : "GameThing",
      "name" : "GameThing",
    },
    {
      "id" : "MaterialThing",
      "name" : "MaterialThing",
      "parent" : "GameThing",
      "modelProperty" : [
        {
          "id" : "id",
          "type" : "String"
        }
        {
          "id" : "type",
          "type" : "String"
        }
        {
          "name" : "hasProperty",
          "type" : "propertySet"
        }
        {
          "name" : "wokerCaperbility",
          "type" : "List<String>"
        }
        {
          "name" : "targetCaperbility",
          "type" : "List<String>"
        }
      ]
    },
    {
      "id" : "Agent",
      "name" : "Agent",
      "parent" : "MaterialThing"
    },
    {
      "id" : "Structure",
      "name" : "Structure",
      "parent" : "MaterialThing"
    },
    {
      "id" : "Inventory",
      "name" : "Inventory",
      "parent" : "MaterialThing",
      "modelProperty" : [
        {
          "name" : "content",
          "type" : "List<String>"
        }
      ]
    },
    {
      "id" : "Item",
      "name" : "Item",
      "parent" : "MaterialThing"
    },
    {
      "id" : "ConceptualThing",
      "name" : "ConceptualThing",
      "parent" : "GameThing"
    },
    {
      "id" : "Work",
      "name" : "Work",
      "parent" : "ConceptualThing",
      "modelProperty" : [
        {
          "id" : "precondition",
          "type" : "String"
        }
        {
          "name" : "argument",
          "type" : "List<String>"
        }
        {
          "name" : "ruleFactor",
          "type" : "String"
        }
        {
          "name" : "rule",
          "type" : "String"
        }
        {
          "name" : "Listener",
          "type" : "List<String>"
        }
      ]
    },
    {
      "id" : "PropertySet",
      "name" : "PropertySet",
      "parent" : "ConceptualThing",
      "modelProperty" : [
        {
          "name" : "properties",
          "type" : "List<String>"
        }
      ]
    },
    {
      "id" : "State",
      "name" : "State",
      "parent" : "ConceptualThing",
      "modelProperty" : [
        {
          "name" : "states",
          "type" : "List<String>"
        }
        {
          "name" : "stateRule",
          "type" : "String"
        }
      ]
    },
    {
      "id" : "CapabilityProperty",
      "name" : "CapabilityProperty",
      "parent" : "ConceptualThing",
      "modelProperty" : [
        {
          "name" : "capable",
          "type" : "List<String>"
        }
      ]
    }

  ],
  "PropertySet" : [
    {
      "id" : "CultivateProperty",
      "name" : "CultivateProperty",
      "parent" : "PropertySet",
      "properties" : [
        "growth",
        "fertility"
      ]
    },
    {
      "id" : "EquipmentProperty",
      "name" : "EquipmentProperty",
      "parent" : "PropertySet",
      "properties" : [
        "attack",
        "protect",
        "durability",
        "statLimitProperty"
      ]
    },
    {
      "id" : "ItemProperty",
      "name" : "ItemProperty",
      "parent" : "PropertySet",
      "properties" : [
        "size"
      ]
    },
    {
      "id" : "PlantableProperty",
      "name" : "PlantableProperty",
      "parent" : "PropertySet",
      "properties" : [
      ]
    }
  ],
  "CapabilityProperty" : [
    {
      "id" : "farmerCaperbility",
      "name" : "farmerCaperbility",
      "parent" : "CapabilityProperty",
      "capable" : [
        "PlantingWork",
        "CultivatingWork",
        "HarvestingWork"
      ]
    }
  ],
  "State" : [
    {
      "id" : "CultivatingState",
      "name" : "CultivatingState",
      "parent" : "State",
      "states" : [
        "Cultivating",
        "Harvestable",
        "RestLand"
      ]
    },
    {
      "id" : "Cultivating",
      "name" : "Cultivating",
      "parent" : "CultivatingState",
    },
    {
      "id" : "Harvestable",
      "name" : "Harvestable",
      "parent" : "CultivatingState"
    },
    {
      "id" : "RestLand",
      "name" : "RestLand",
      "parent" : "CultivateState"
    },
  ],
  "Work" : [
    {
      "id" : "CultivatingWork",
      "name" : "CultivatingWork",
      "parent" : "Work",
      "worker" : "Farmer",
      "precondition" : [
        "ex) target/state == Cultivating"
      ],
      "RuleSet" : [
        "CultivatingRule"
      ]
    },
    {
      "id" : "PlantingWork",
      "name" : "PlantingWork",
      "parent" : "Work",
      "precondition" : [
        "ex) target/state == RestLand"
      ],
      "argument" : [
        {
          "name" : "seed",
          "type" : "Plantable"
        }
      ],
      "workDetail" : [
        {
          "targetValue" : "target/CultivatingState",
          "rule" : "target/CultivatingState == Cultivating",
        }
        {
          "targetValue" : "worker/Inventory",
          "rule" : "delete seed"
        }
      ]
    },
    {
      "id" : "HarvestCheck",
      "name" : "HarvestCheck",
      "parent" : "Work",
      "trigger" : [
        "target/CultivateProperty/growth",
      ],
      "precondition" : [
        "target/CultivateProperty/growth >= target/CultivateProperty/growth/MaxValue",
      ],
      "RuleSet" : [
          "CultivatingStateShiftingToHarvestableRule"
      ]
    },
  ],
  "Rule" : [
    {
      "id" : "CultivatingStateShiftingToHarvestableRule",
      "name" : "CultivatingStateShiftingToHarvestableRule",
      "targetValue" : "target/CultivatingState",
      "evaluate" : "target/CultivatingState = Harvestable"
    },
    {
      "id" : "CultivatingRule",
      "name" : "CultivatingRule",
      "parent" : "Rule",
      "precondition" : [

      ],
      "targetValue" : "target/CultivateProperty/growth",
      "parameters" : [
        {
          "paramName" : "a",
          "baseValue" : "1"
        },
        {
          "paramName" : "b",
          "baseValue" : "1"
        },
        {
          "paramName" : "c",
          "baseValue" : "0"
        }
      ],
      "evaluate" : "targetValue += a*b+c"
    }
  ],
  "Item" : [
    {
      "id" : "PlantItem",
      "name" : "PlantItem",
      "parent" : "Item"
    },
    {
      "id" : "Wheat",
      "name" : "Wheat",
      "parent" : "PlantItem"
    },
    {
      "id" : "Equipment",
      "name" : "Equipment",
      "parent" : "Item",
    },
    {
      "id" : "Hoe",
      "name" : "Hoe",
      "parent" : "Equipment"
    }
  ],
  "Structure" : [
    {
      "id" : "Farm",
      "name" : "Farm",
      "parent" : "Structure"
    },
    {
      "id" : "FarmLand",
      "name" : "FarmLand",
      "parent" : "Structure"
    }
  ]
}
